
#pragma once

#include "quantum.h"

/*
 *
 * +-----+-----+-----+-----+-----++---+---++---+---+               +---+---+---+---+
 * |40   |41   |42   |43   |44   ||45 |46 ||47 |50 |               |51 |52 |34 |32 |
 * +-----+-----+-----+-----+-----++---+---++---+---+               +---+---+---+---+
 * +---+---+---+---+---+---+---+---+---+---+---+---+---+---+-----+ +---+---+---+---+
 * |30 |31 |53 |54 |55 |56 |57 |60 |61 |62 |63 |64 |65 |66 |67   | |20 |23 |25 |33 |
 * +-------------------------------------------------------------+ +---------------+
 * |35   |10 |11 |12 |70 |71 |72 |73 |74 |75 |76 |77 |80 |81 |   | |21 |82 |26 |83 |
 * +---------------------------------------------------------|   | +---------------+
 * |07    |13 |84 |14 |85 |86 |87 |90 |91 |92 |93 |94 |95 |B7    | |22 |24 |27 |96 |
 * +-------------------------------------------------------------+ +---------------+
 * |06      |15 |16 |17 |97 |A0 |A1 |A2 |A3 |A4 |A5 |A6 |06      | |A7 |B0 |B1 |B6 |
 * +------+-----------------------------------------------+------+ +-----------|   |
 *        |03 |04 |36                             |05 |B2 |        |B3 |B4 |B5 |   |
 *        +---+---+-------------------------------+---+---+        +---+---+---+---+
 *
 * Key codes (matrix indices) are divided into three groups:
 * 00-07: key states in order and position of key event (x1kbd.pdf is somewhat confusing here; CTRL is sent last)
 * 10-37: the 24 game keys in order of game event
 * 40-  : the rest assigned arbitrarily more or less in physical order; these are back translated from the ASCII / JIS code
 *
 * Note that only lower eight bits are used and they in reverse order due to big-endian ASCII driving bit stream interpretation.
 */

#define LAYOUT( \
    K40, K41, K42, K43, K44, K45, K46, K47, K50, K51, K52, K34, K32, \
    K30, K31, K53, K54, K55, K56, K57, K60, K61, K62, K63, K64, K65, K66, K67, K20, K23, K25, K33, \
    K35, K10, K11, K12, K70, K71, K72, K73, K74, K75, K76, K77, K80, K81, K21, K82, K26, K83, \
    K07, K13, K84, K14, K85, K86, K87, K90, K91, K92, K93, K94, K95, KB7, K22, K24, K27, K96, \
    K06, K15, K16, K17, K97, KA0, KA1, KA2, KA3, KA4, KA5, KA6, K06X, KA7, KB0, KB1, KB6, \
    K03, K04, K36, K05, KB2, KB3, KB4, KB5) { \
    { K07, K06, K05, K04, K03, KC_NO, KC_NO, KC_NO }, \
    { K17, K16, K15, K14, K13, K12, K11, K10 }, \
    { K27, K26, K25, K24, K23, K22, K21, K20 }, \
    { KC_NO, K36, K35, K34, K33, K32, K31, K30 }, \
    { K47, K46, K45, K44, K43, K42, K41, K40 }, \
    { K57, K56, K55, K54, K53, K52, K51, K50 }, \
    { K67, K66, K65, K64, K63, K62, K61, K60 }, \
    { K77, K76, K75, K74, K73, K72, K71, K70 }, \
    { K87, K86, K85, K84, K83, K82, K81, K80 }, \
    { K97, K96, K95, K94, K93, K92, K91, K90 }, \
    { KA7, KA6, KA5, KA4, KA3, KA2, KA1, KA0 }, \
    { KB7, KB6, KB5, KB4, KB3, KB2, KB1, KB0 } \
 }
